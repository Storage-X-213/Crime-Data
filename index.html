<!DOCTYPE html>
<html>
<head>
	<!-- Code for the set up of the Mapbox API -->
	<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	<script src='https://api.mapbox.com/mapbox-gl-js/v0.54.0/mapbox-gl.js'></script>
	<script src="jquery-3.4.1.min.js"></script>
	<link href='https://api.mapbox.com/mapbox-gl-js/v0.54.0/mapbox-gl.css' rel='stylesheet' />
	<link rel="stylesheet" type="text/css" href="styleSheet.css">
    <script src="jquery-ui.min.js"></script>
    <link rel="stylesheet" type="text/css" media="screen" href="jquery-ui.css"
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
	<meta charset="UTF-8">
</head>	
<body>


	<label for="month">Month: </label>
	<input type="text" id="month" name="month" class="monthPicker" />
	
	<div id='map'></div>
	<script>

	var month = ""
	var year = ""
	/*
	var geojson = {
				type: 'FeatureCollection',
				features: [{
					type: 'Feature',
					geometry: {
						type: 'Point',
						coordinates: [1.15, 52.0581]
					},
					properties: {
						title: 'Mapbox',
						description: 'Washington, D.C.'
					}
				},
				{
					type: 'Feature',
					geometry: {
						type: 'Point',
						coordinates: [-122.414, 37.776]
					},
					properties: {
						title: 'Mapbox',
						description: 'San Francisco, California'
					}
				}]
			};
	*/
	<!-- Code for the setup of the "month picker" -->
	$(document).ready(function()
	{   
		$(".monthPicker").datepicker({
			maxDate: "0",
			minDate: new Date(2016, 6, 1),
			changeMonth: true,	
			changeYear: true,
			showButtonPanel: true,

			onClose: function(dateText, inst) {
				month = $("#ui-datepicker-div .ui-datepicker-month :selected").val();
				year = $("#ui-datepicker-div .ui-datepicker-year :selected").val();
				$(this).val($.datepicker.formatDate('MM yy', new Date(year, month, 1)));
				init();
				
				var monthInt=parseInt(month,10);
			}
		});

		$(".monthPicker").focus(function () {
			$(".ui-datepicker-calendar").hide();
			$("#ui-datepicker-div").position({
				my: "center top",
				at: "center bottom",
				of: $(this)
			});
		});
	});
	/*Code for the set up of the Mapbox API */
		mapboxgl.accessToken = 'pk.eyJ1IjoibGVzcCIsImEiOiJjanZwMG8yMmsxYzZxNDRxczQxNTFqd201In0.cpQU3urRQRrO_tJAv27QJg';
		var map = new mapboxgl.Map({
		container: 'map',
		style: 'mapbox://styles/mapbox/streets-v11',	
		center: [1.1482,52.0567],
		minZoom: 12,
		zoom: 13,
		dragRotate: false,
	});
	
	map.on('style.load', function() {
		map.addSource("crimeData", {
			type: "geojson",
			data: "https://github.com/Storage-X-213/Storage-X-213.github.io/blob/master/2016-07/2016-07-suffolk-street.geojson"
		});
		map.addLayer({
			"id": "crimePoints",
			"type": "circle",
			"source": "crimeData",
			})
		});
	
	/*
		function init(){
            map.addSource('crimeData', {
            type: 'geojson',
            data: 'https://github.com/Storage-X-213/Storage-X-213.github.io/blob/master/2016-07/2016-07-suffolk-street.geojson',
			});
			map.addLayer({            
			'id': 'crime',
            'type': 'circle',
            'source': 'crimeData',});
		}
		 */
       
		
		
		/*
		geojson.features.forEach(function(marker) {
		
			// create a HTML element for each feature
			//var el = document.createElement('div');
				el.className = 'marker';

			// make a marker for each feature and add to the map
			new mapboxgl.Marker(el)
				.setLngLat(marker.geometry.coordinates)
				.setPopup(new mapboxgl.Popup({ offset: 25 }) // add popups
					.setHTML('<h3>' + marker.properties.title + '</h3><p>' + marker.properties.description + '</p>'))
				.addTo(map);
		});
		*/
		/*
		var monthInt=parseInt(month,10);
		
		document.write(monthInt);
		document.write(year);
		document.write(5+6);
		*/
	</script>
	
</body>
</html>